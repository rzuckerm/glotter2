<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>General Usage &mdash; glotter2  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.gif"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Global Glotter2 Configuration" href="global-glotter2-configuration.html" />
    <link rel="prev" title="Glotter2" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            glotter2
              <img src="_static/glotter2_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">General Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run">Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test">Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#report">Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#batch">Batch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#serial-mode">Serial Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallel-mode">Parallel Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="global-glotter2-configuration.html">Global Glotter2 Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="directory-level-configuration.html">Directory Level Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing-tests.html">Writing Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">glotter2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">General Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/general-usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="general-usage">
<h1>General Usage<a class="headerlink" href="#general-usage" title="Permalink to this heading"></a></h1>
<p>Glotter2 is an execution library for collections of single file scripts.
It uses Docker to be able to build and run scripts in any language without having
to install a local sdk or development environment.</p>
<p>Before Glotter2 can be used, your project must be configured.
See <a class="reference internal" href="index.html#integrating-with-glotter2"><span class="std std-ref">Integrating with Glotter2</span></a> for more information</p>
<p>The Glotter2 CLI has four main commands:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#download">download</a></p></li>
<li><p><a class="reference internal" href="#run">run</a></p></li>
<li><p><a class="reference internal" href="#test">test</a></p></li>
<li><p><a class="reference internal" href="#report">report</a></p></li>
</ul>
<p>All of these commands have this optional argument:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--help</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-h</span></code></p></td>
<td><p>Print help text and exit</p></td>
</tr>
</tbody>
</table>
<p>While the <cite>download</cite>, <cite>run</cite>, and <cite>test</cite> commands serve different functions
(described below), each has the following optional arguments:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--source</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-s</span></code></p></td>
<td><p>Perform action using a single source file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--project</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-p</span></code></p></td>
<td><p>Perform action using all sources relevant to a certain project key</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--language</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-l</span></code></p></td>
<td><p>Perform action using all sources of a given language</p></td>
</tr>
</tbody>
</table>
<p>These optional arguments can be used together in the event that multiple languages
have the same filename and extension. For example, suppose that there are two programs
called <code class="docutils literal notranslate"><span class="pre">hello_world.e</span></code>, one in Eiffel and one in Euphoria. If you want to force the
action on the Eiffel one, you would use one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">eiffel</span> <span class="pre">-p</span> <span class="pre">helloworld</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">eiffel</span> <span class="pre">-s</span> <span class="pre">hello_world.e</span></code></p></li>
</ul>
<section id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">download</span></code> command is used to download any required docker images.
It is invoked using <code class="docutils literal notranslate"><span class="pre">glotter</span> <span class="pre">download</span></code> with any of the flags described above.</p>
<p>It is not necessary to invoke download manually before run or test.
It will be invoked automatically.
This command is exposed for convenience in cases where you want to have
everything you will need downloaded ahead of time.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">download</span></code> command also has the following optional argument:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--parallel</span></code></p></td>
<td></td>
<td><p>Download images in parallel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="run">
<h2>Run<a class="headerlink" href="#run" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">run</span></code> command is used to execute scripts.
It is invoked using <code class="docutils literal notranslate"><span class="pre">glotter</span> <span class="pre">run</span></code> with any of the flags described above.
If a script requires input, it will prompt for that information.</p>
</section>
<section id="test">
<h2>Test<a class="headerlink" href="#test" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">test</span></code> command is used to execute tests for scripts.
It is invoked using <code class="docutils literal notranslate"><span class="pre">glotter</span> <span class="pre">test</span></code> with any of the flags described above.</p>
<p>The <cite>test</cite> command also has the following optional argument:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--parallel</span></code></p></td>
<td></td>
<td><p>Run tests in parallel</p></td>
</tr>
</tbody>
</table>
</section>
<section id="report">
<h2>Report<a class="headerlink" href="#report" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">report</span></code> command is used to output a report of discovered sources for configured
projects and languages.
It is invoked using <code class="docutils literal notranslate"><span class="pre">glotter</span> <span class="pre">report</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">report</span></code> command has the following optional argument:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--output</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-o</span></code></p></td>
<td><p>Output the report as a <a class="reference external" href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a>
at the specified report path instead of to stdout</p></td>
</tr>
</tbody>
</table>
<p>If <code class="docutils literal notranslate"><span class="pre">-o</span></code> is not specified, the report is output as <a class="reference external" href="https://www.markdownguide.org/basic-syntax/">Markdown</a> to stdout.</p>
</section>
<section id="batch">
<h2>Batch<a class="headerlink" href="#batch" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">batch</span></code> command is only used in a Continuous Integration (CI) pipeline to limit the
amount of disk space used. It breaks up the image download, testing, and optional image removal
into individual batches.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">batch</span></code> command has a required argument that specifies the number of batches to use (<code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">batch</span></code> command also has the following optional arguments:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flag</p></th>
<th class="head"><p>Short Flag</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--batch</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-b</span></code></p></td>
<td><p>Indicate the batch number (1 through <code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code>). If not specified, all batches are run</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--parallel</span></code></p></td>
<td></td>
<td><p>Download images, run tests, and optionally remove images in parallel</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--remove</span></code></p></td>
<td></td>
<td><p>Indicates if the images should be removed after each batch is finished</p></td>
</tr>
</tbody>
</table>
<p>There are two modes in which <code class="docutils literal notranslate"><span class="pre">batch</span></code> can be used:</p>
<ol class="arabic simple">
<li><p>Serial</p></li>
<li><p>Parallel</p></li>
</ol>
<section id="serial-mode">
<h3>Serial Mode<a class="headerlink" href="#serial-mode" title="Permalink to this heading"></a></h3>
<p>In this mode all batches are run one after another. It is highly recommended that <code class="docutils literal notranslate"><span class="pre">--remove</span></code> be used
with this mode in order to save disk space by removing images that are only used for the current batch.
For example, break the download, test, and removal into 3 batches and parallelize:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>glotter batch 3 --remove --parallel
</pre></div>
</div>
</section>
<section id="parallel-mode">
<h3>Parallel Mode<a class="headerlink" href="#parallel-mode" title="Permalink to this heading"></a></h3>
<p>In this mode each batch is run on a different build server. This has the potential benefit of reducing
build time if a sufficient number of build servers are available. For this mode, it is not necessary to
specified <code class="docutils literal notranslate"><span class="pre">--remove</span></code> since the build server will clean itself up as soon as the current job is finished.
As with the previous example, break the download and test into 3 batches and parallelize for each
build server:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>glotter batch 3 --batch &lt;m&gt; --parallel
</pre></div>
</div>
<p>where: <code class="docutils literal notranslate"><span class="pre">&lt;m&gt;</span></code> is <code class="docutils literal notranslate"><span class="pre">1</span></code> for the first build server, <code class="docutils literal notranslate"><span class="pre">2</span></code> for the second, and <code class="docutils literal notranslate"><span class="pre">3</span></code> for the third.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Glotter2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="global-glotter2-configuration.html" class="btn btn-neutral float-right" title="Global Glotter2 Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>